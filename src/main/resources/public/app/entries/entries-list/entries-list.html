<div style="height: 64px;" layout-align="end center" layout="row" layout-align="space-between">
    <md-input-container flex style="margin-left: 1rem; margin-top: 1rem;">
        <label>Search</label>
        <input type="text" id="search" ng-model="searchCriteria" style="width: 20%; min-width: 150px;" ng-keypress="onKeyPress($event)">
        <div ng-show="showSearchBlocker" style="opacity: 0; height: 36px; width: 150px; z-index: 1; position: absolute; margin-top: 0px;"></div>
    </md-input-container>

    <div layout-align="end center" layout="row">
        <div ng-if="$root.checkPermissions($root.currentProjectGuid, ['manager'])" ng-click="onAdd($event)" style="padding: 1rem; cursor: pointer; outline: none">
            <i class="fa fa-plus" style="color: black; cursor: pointer; outline: none; font-size: 15pt; margin-top: 5px;"></i>
        </div>
        <div ng-click="onFilter($event)" style="padding: 1rem; cursor: pointer; outline: none">
            <i class="fa fa-filter" style="color: black; cursor: pointer; outline: none; font-size: 15pt; margin-top: 5px;"></i>
        </div>
        <div ng-click="onRefresh($event)" style="padding: 1rem; cursor: pointer; outline: none">
            <i class="fa fa-refresh" style="color: black; cursor: pointer; outline: none; font-size: 15pt; margin-top: 5px;"></i>
        </div>
    </div>
</div>

<md-content layout="column" style="height: calc(100% - 64px); font-size: 10pt;">
    <div style="width: 100%; border-bottom: 1px solid #ddd;"></div>

    <div ng-show="showBusyIndicator" style="height: calc(100% - 1px);" layout="row" class="busyIndicator" layout-align="space-around center">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
    </div>
    <span ng-show="entries.numItems === 0 && !showBusyIndicator" style="padding: 2rem;">No entries to display</span>

    <md-virtual-repeat-container id="vertical-container" style="border-bottom: 0px solid #ddd;" md-top-index="entriesListTopIndex">
        <div md-virtual-repeat="item in entries" md-on-demand flex layout="column" ios-dblclick="onEdit($index)" class="listItem entriesListItem">
            <div ng-if="item.entryTypeGuid === '1'" layout="row" style="width: 100%; height: 100%;">
                <div style="width: 5px;" ng-style="{'background-color': item.deficiencyDetails.entryStatusBackgroundColor}"></div>
                <div layout="column" style="width: 100%; padding: 0.2rem;">
                    <!--<table style="width: 100%;">
                        <tr>
                            <td style="width: 35%; vertical-align: top;">Type:</td>
                            <td style="width: 65%;">
                                <div>{{item.entryTypeName}}</div>
                            </td>
                        </tr>
                    </table>-->

                    <table style="width: 100%;" ng-if="item.groups.length">
                        <tr>
                            <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                            <td style="width: 100%;">
                                <div class="tagInDisplayMode" ng-repeat="group in item.groups" style="margin-top: 0.1rem; margin-bottom: 0.1rem; float: left;">{{group.groupName}}</div>
                            </td>
                        </tr>
                    </table>

                    <table style="width: 100%;" ng-if="item.deficiencyDetails.dueDate">
                        <tr>
                            <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                            <td style="width: 100%;">
                                <div>{{'Due on ' + item.deficiencyDetails.dueDate}}</div>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%;" ng-if="item.description">
                        <tr>
                            <!--<td style="width: 35%; vertical-align: top;">Description:</td>-->
                            <td style="width: 100%;">
                                <div ng-bind-html="highlight(item.description, searchCriteria)"></div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>


            <div ng-if="item.entryTypeGuid === '2'" layout="row" layout-align="start center" style="width: 100%; height: 100%; padding: 0.2rem;">
                <div flex=30 ng-if="item.contactDetails.photoUrl" style="min-width: <135></135>px; max-width: 150px; height: 100%;">
                    <div ng-style="{ 'width': '130px', 'height': '130px', 'background': 'url(' + item.contactDetails.photoUrl + ')',
                    'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center'}"></div>

                </div>
                <div flex=70 layout="column" layout-align="start start" style="width: 100%; height: 100%; padding: 0.2rem;">
                    <table style="width: 100%;" ng-if="item.description">
                        <tr>
                            <!--<td style="width: 35%; vertical-align: top;">Description:</td>-->
                            <td style="width: 100%;">
                                <div ng-bind-html="highlight(item.description, searchCriteria)"></div>
                            </td>
                        </tr>
                    </table>
                    <table style="width: 100%;" ng-if="item.groups.length">
                        <tr>
                            <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                            <td style="width: 100%;">
                                <div class="tagInDisplayMode" ng-repeat="group in item.groups" style="margin-top: 0.1rem; margin-bottom: 0.1rem; float: left;">{{group.groupName}}</div>
                            </td>
                        </tr>
                    </table>
                    <div ng-if="item.contactDetails.contactTypeGuid === '1'">
                        <table style="width: 100%;" ng-if="item.contactDetails.personMobilePhone">
                            <tr>
                                <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                                <td style="width: 100%;">
                                    <div>{{item.contactDetails.personMobilePhone}}</div>
                                </td>
                            </tr>
                        </table>
                        <table style="width: 100%;" ng-if="item.contactDetails.personEmail">
                            <tr>
                                <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                                <td style="width: 100%;">
                                    <div>{{item.contactDetails.personEmail}}</div>
                                </td>
                            </tr>
                        </table>
                        <table style="width: 100%;" ng-if="item.contactDetails.personAddress">
                            <tr>
                                <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                                <td style="width: 100%;">
                                    <div>{{item.contactDetails.personAddress}}</div>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div ng-if="item.contactDetails.contactTypeGuid === '2'">
                        <table style="width: 100%;" ng-if="item.contactDetails.organizationWebSite">
                            <tr>
                                <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                                <td style="width: 100%;">
                                    <div>{{item.contactDetails.organizationWebSite}}</div>
                                </td>
                            </tr>
                        </table>
                        <table style="width: 100%;" ng-if="item.contactDetails.organizationContactPhone">
                            <tr>
                                <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                                <td style="width: 100%;">
                                    <div>{{item.contactDetails.organizationContactPhone}}</div>
                                </td>
                            </tr>
                        </table>
                        <table style="width: 100%;" ng-if="item.contactDetails.organizationContactEmail">
                            <tr>
                                <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                                <td style="width: 100%;">
                                    <div>{{item.contactDetails.organizationContactEmail}}</div>
                                </td>
                            </tr>
                        </table>
                        <table style="width: 100%;" ng-if="item.contactDetails.organizationAddress">
                            <tr>
                                <!--<td style="width: 35%; vertical-align: top;">Groups:</td>-->
                                <td style="width: 100%;">
                                    <div>{{item.contactDetails.organizationAddress}}</div>
                                </td>
                            </tr>
                        </table>
                    </div>


                </div>
            </div>
        </div>
    </md-virtual-repeat-container>
</md-content>